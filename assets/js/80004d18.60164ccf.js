"use strict";(globalThis.webpackChunkmy_website=globalThis.webpackChunkmy_website||[]).push([[8636],{2298(e,n,t){t.r(n),t.d(n,{assets:()=>c,contentTitle:()=>d,default:()=>p,frontMatter:()=>o,metadata:()=>i,toc:()=>l});const i=JSON.parse('{"id":"node-js/node-js-project-testing","title":"Node.js Project Quality Checks","description":"Comprehensive guide for Node.js backend project code quality, linting, formatting, type checking, security, and testing using ESLint, Prettier, TypeScript, Mocha, Chai, and Jest.","source":"@site/docs/node-js/node-js-project-testing.md","sourceDirName":"node-js","slug":"/node-js/node-js-project-testing","permalink":"/triline-doc/docs/node-js/node-js-project-testing","draft":false,"unlisted":false,"editUrl":"https://github.com/vidyaram-tyagi/triline-doc/tree/main/docs/node-js/node-js-project-testing.md","tags":[{"inline":true,"label":"Node.js","permalink":"/triline-doc/docs/tags/node-js"},{"inline":true,"label":"ESLint","permalink":"/triline-doc/docs/tags/es-lint"},{"inline":true,"label":"Prettier","permalink":"/triline-doc/docs/tags/prettier"},{"inline":true,"label":"TypeScript","permalink":"/triline-doc/docs/tags/type-script"},{"inline":true,"label":"Testing","permalink":"/triline-doc/docs/tags/testing"}],"version":"current","frontMatter":{"id":"node-js-project-testing","title":"Node.js Project Quality Checks","sidebar_label":"Node.js Project Quality Checks","description":"Comprehensive guide for Node.js backend project code quality, linting, formatting, type checking, security, and testing using ESLint, Prettier, TypeScript, Mocha, Chai, and Jest.","tags":["Node.js","ESLint","Prettier","TypeScript","Testing"]},"sidebar":"keypointsSidebar","previous":{"title":"Design & Specification","permalink":"/triline-doc/docs/key-points/phase-2-design-specification"}}');var s=t(4848),r=t(8453);const o={id:"node-js-project-testing",title:"Node.js Project Quality Checks",sidebar_label:"Node.js Project Quality Checks",description:"Comprehensive guide for Node.js backend project code quality, linting, formatting, type checking, security, and testing using ESLint, Prettier, TypeScript, Mocha, Chai, and Jest.",tags:["Node.js","ESLint","Prettier","TypeScript","Testing"]},d="Node.js Project Quality Checks",c={},l=[{value:"1. Code Quality &amp; Standards",id:"1-code-quality--standards",level:2},{value:"a) Linting &amp; Formatting",id:"a-linting--formatting",level:3},{value:"ESLint correct / recommended options for ESLint initialization",id:"eslint-correct--recommended-options-for-eslint-initialization",level:3}];function a(e){const n={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...(0,r.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.header,{children:(0,s.jsx)(n.h1,{id:"nodejs-project-quality-checks",children:"Node.js Project Quality Checks"})}),"\n",(0,s.jsx)(n.h2,{id:"1-code-quality--standards",children:"1. Code Quality & Standards"}),"\n",(0,s.jsx)(n.h3,{id:"a-linting--formatting",children:"a) Linting & Formatting"}),"\n",(0,s.jsx)(n.p,{children:"Use ESLint with recommended Node.js rules."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"npm install eslint --save-dev\n"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-base",children:"# if already installed, check version:\n    npx eslint --version\n    npx eslint --init\n"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"# Run ESLint with auto-fix\n    npx eslint . --fix\n"})}),"\n",(0,s.jsx)(n.h1,{id:"run-eslint-on-specific-directory",children:"Run ESLint on specific directory"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"npx eslint src/components --fix\n"})}),"\n",(0,s.jsx)(n.h1,{id:"check-typescript-files-only",children:"Check TypeScript files only"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:'npx eslint "**/*.{ts,tsx}" --fix\n\n'})}),"\n",(0,s.jsx)(n.h3,{id:"eslint-correct--recommended-options-for-eslint-initialization",children:"ESLint correct / recommended options for ESLint initialization"}),"\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"Question"}),(0,s.jsx)(n.th,{children:"Recommended Option"}),(0,s.jsx)(n.th,{children:"Reason"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"What do you want to lint?"}),(0,s.jsx)(n.td,{children:"javascript, json, jsonc, json5, md, css"}),(0,s.jsx)(n.td,{children:"Covers all common file types in a JS project, including Markdown and CSS"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"How would you like to use ESLint?"}),(0,s.jsx)(n.td,{children:"problems"}),(0,s.jsx)(n.td,{children:"Focus on finding problems; lighter setup if you don\u2019t need full code style enforcement"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"What type of modules does your project use?"}),(0,s.jsx)(n.td,{children:"script"}),(0,s.jsx)(n.td,{children:"Use script if you\u2019re not using ES modules (import/export). If your project uses import/export, select ES modules"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Which framework does your project use?"}),(0,s.jsx)(n.td,{children:"none"}),(0,s.jsx)(n.td,{children:"Correct if your project does not use React, Vue, or other frameworks"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Does your project use TypeScript?"}),(0,s.jsx)(n.td,{children:"No"}),(0,s.jsx)(n.td,{children:"Choose No if the project is plain JavaScript; Yes only if using TypeScript"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Where does your code run?"}),(0,s.jsx)(n.td,{children:"browser"}),(0,s.jsx)(n.td,{children:"Choose browser if the code runs in browser; select node if it\u2019s a backend project"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Which language do you want your configuration file in?"}),(0,s.jsx)(n.td,{children:"ts"}),(0,s.jsx)(n.td,{children:"TypeScript config is fine if you want type-safety in ESLint config. Can also choose js or json"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"What flavor of Markdown do you want to lint?"}),(0,s.jsx)(n.td,{children:"gfm"}),(0,s.jsx)(n.td,{children:"GitHub Flavored Markdown, standard for most projects"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsxs)(n.td,{children:["Jiti is required for Node.js ",(0,s.jsx)(n.code,{children:"<24.3.0"})," to read TypeScript config files. Would you like to add it?"]}),(0,s.jsx)(n.td,{children:"Yes"}),(0,s.jsxs)(n.td,{children:["Recommended if Node.js version ",(0,s.jsx)(n.code,{children:" < 24.3.0,"})," needed to load TS ESLint config"]})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Would you like to install dependencies now?"}),(0,s.jsx)(n.td,{children:"Yes"}),(0,s.jsx)(n.td,{children:"Installs all necessary ESLint packages automatically"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Which package manager do you want to use?"}),(0,s.jsx)(n.td,{children:"npm"}),(0,s.jsx)(n.td,{children:"Use whichever your project already uses (npm, yarn, or pnpm)"})]})]})]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsxs)(n.p,{children:["Example ESLint Error\ntext\nCopy code\ntriline-website/start-server.js\n1:19  error    A ",(0,s.jsx)(n.code,{children:"require()"})," style import is forbidden    @typescript-eslint/no-require-imports\n2:7   warning  'path' is assigned a value but never used  @typescript-eslint/no-unused-vars\n2:14  error    A ",(0,s.jsx)(n.code,{children:"require()"})," style import is forbidden    @typescript-eslint/no-require-imports"]}),"\n",(0,s.jsxs)(n.p,{children:["\u2716 3 problems (2 errors, 1 warning)\nb) Prettier for Consistent Formatting\nbash\nCopy code\nnpm install prettier eslint-config-prettier eslint-plugin-prettier --save-dev\nnpx eslint src/",(0,s.jsx)(n.strong,{children:"/*.ts\nnpx prettier --check src/"}),"/*.ts"]}),"\n",(0,s.jsx)(n.h1,{id:"save-reports",children:"Save reports"}),"\n",(0,s.jsxs)(n.p,{children:["npx eslint src/",(0,s.jsx)(n.strong,{children:"/*.ts > eslint-report.txt\nnpx prettier --check src/"}),"/*.ts > prettier-report.txt\nc) Type Checking (TypeScript)\nbash\nCopy code"]}),"\n",(0,s.jsx)(n.h1,{id:"check-types-without-emitting-js",children:"Check types without emitting JS"}),"\n",(0,s.jsx)(n.p,{children:"tsc --noEmit\nInstalling TypeScript\nGlobally:"}),"\n",(0,s.jsx)(n.p,{children:"bash\nCopy code\nsudo npm install -g typescript\ntsc --version\nLocally:"}),"\n",(0,s.jsx)(n.p,{children:"bash\nCopy code\nnpm install --save-dev typescript\nnpx tsc --version\ntsconfig.json Recommended Settings\njson"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:'{\n  "compilerOptions": {\n    "target": "ES2022",\n    "module": "commonjs",\n    "lib": ["ES2022"],\n    "rootDir": "./src",\n    "outDir": "./dist",\n    "strict": true,\n    "noImplicitAny": true,\n    "noUnusedLocals": true,\n    "noUnusedParameters": true,\n    "esModuleInterop": true,\n    "resolveJsonModule": true,\n    "baseUrl": "./src",\n    "paths": {\n      "@/*": ["*"],\n      "@/types/*": ["types/*"],\n      "@/utils/*": ["utils/*"],\n      "@/services/*": ["services/*"]\n    },\n    "experimentalDecorators": true,\n    "emitDecoratorMetadata": true,\n    "skipLibCheck": true,\n    "forceConsistentCasingInFileNames": true\n  },\n  "include": ["src/**/*"],\n  "exclude": ["node_modules", "dist", "**/*.test.ts", "**/*.spec.ts"]\n}\n'})}),"\n",(0,s.jsx)(n.p,{children:"d) Security Linting\nCheck for vulnerable dependencies:"}),"\n",(0,s.jsx)(n.p,{children:"bash\nCopy code\nnpm audit\nOptional: Use eslint-plugin-security for code security linting."}),"\n",(0,s.jsx)(n.p,{children:"e) Tool Comparison\nFeature / Tool\tESLint\tPrettier\tTypeScript (tsc)\nPurpose\tLinting & code quality\tCode formatting\tType checking & transpiling\nChecks\tCode style, best practices\tFormatting only\tType errors\nEnforces\tRules like no-unused-vars, eqeqeq\tSemicolons, quotes, line width\tVariable types, interfaces\nFixes\tAuto-fix with --fix\tAuto-format with --write\tCannot fix logic\nLanguage\tJS/TS\tJS/TS/HTML/CSS/JSON/Markdown\tTS only\nConfiguration\t.eslintrc\t.prettierrc\ttsconfig.json\nOutput\tErrors & warnings\tReformatted code\tJS output & type errors"}),"\n",(0,s.jsxs)(n.ol,{start:"2",children:["\n",(0,s.jsx)(n.li,{children:"Testing\na) Unit Tests (Mocha + Chai)\nInstall:"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"bash\nCopy code\nnpm install --save-dev mocha chai ts-node @types/mocha @types/chai\nUpdate package.json:"}),"\n",(0,s.jsx)(n.p,{children:"json\nCopy code"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:'"scripts": {\n  "test": "mocha -r ts-node/register \'src/**/*.spec.ts\'"\n}\n'})}),"\n",(0,s.jsx)(n.p,{children:"Example function: src/utils/math.ts"}),"\n",(0,s.jsx)(n.p,{children:"ts\nCopy code"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:'export function add(a: number, b: number): number { return a + b; }\nexport function divide(a: number, b: number) { if(b===0) throw new Error("Cannot divide by zero"); return a/b; }\n'})}),"\n",(0,s.jsx)(n.p,{children:"Unit test: src/utils/math.spec.ts"}),"\n",(0,s.jsx)(n.p,{children:"ts\nCopy code"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"import { expect } from 'chai';\nimport { add, divide } from './math';\n\ndescribe('Math Utils (Mocha + Chai)', () => {\n  it('add() returns sum', () => { expect(add(2,3)).to.equal(5); });\n  it('divide() returns division', () => { expect(divide(6,2)).to.equal(3); });\n  it('divide() throws on zero', () => { expect(() => divide(10,0)).to.throw(\"Cannot divide by zero\"); });\n});\n"})}),"\n",(0,s.jsx)(n.p,{children:"Run tests:"}),"\n",(0,s.jsx)(n.p,{children:"bash\nCopy code\nnpm test\nb) Unit Tests (Jest)\nInstall:"}),"\n",(0,s.jsxs)(n.p,{children:["bash\nCopy code\nnpm install --save-dev jest ts-jest @types/jest\nnpx ts-jest config",":init","\nExample test: src/utils/math.spec.ts"]}),"\n",(0,s.jsx)(n.p,{children:"ts\nCopy code"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"import { add, divide } from './math';\n\ndescribe('Math Utils (Jest)', () => {\n  test('add() returns sum', () => { expect(add(2,3)).toBe(5); });\n  test('divide() returns division', () => { expect(divide(6,2)).toBe(3); });\n  test('divide() throws on zero', () => { expect(() => divide(10,0)).toThrow(\"Cannot divide by zero\"); });\n});\n"})}),"\n",(0,s.jsx)(n.p,{children:"Run:"}),"\n",(0,s.jsx)(n.p,{children:"bash\nCopy code\nnpx jest\nCoverage report:"}),"\n",(0,s.jsx)(n.p,{children:"bash\nCopy code\nnpx jest --coverage > jest-error-report.txt 2>&1\nc) Integration Tests\nUse Supertest + Jest to test APIs end-to-end including database interactions."}),"\n",(0,s.jsx)(n.p,{children:"Aim for >80% coverage for critical modules."}),"\n",(0,s.jsx)(n.p,{children:"This file can be saved as:"}),"\n",(0,s.jsx)(n.p,{children:"bash\nCopy code\ndocs/nodejs-backend-quality.md\nIt will now:"}),"\n",(0,s.jsx)(n.p,{children:"Show title: Node.js Project Backend Quality Checks"}),"\n",(0,s.jsx)(n.p,{children:"Display sidebar label: Backend Quality Checks"}),"\n",(0,s.jsx)(n.p,{children:"Include description and tags for Docusaurus"}),"\n",(0,s.jsx)(n.p,{children:"Render Markdown correctly on Docusaurus pages"})]})}function p(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(a,{...e})}):a(e)}},8453(e,n,t){t.d(n,{R:()=>o,x:()=>d});var i=t(6540);const s={},r=i.createContext(s);function o(e){const n=i.useContext(r);return i.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function d(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:o(e.components),i.createElement(r.Provider,{value:n},e.children)}}}]);