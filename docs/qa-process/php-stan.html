<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-qa-process/php-stan" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.9.2">
<title data-rh="true">PHPStan Introduction! | Triline Docs</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://vidyaram-tyagi.github.io/triline-doc/img/docusaurus-social-card.jpg"><meta data-rh="true" name="twitter:image" content="https://vidyaram-tyagi.github.io/triline-doc/img/docusaurus-social-card.jpg"><meta data-rh="true" property="og:url" content="https://vidyaram-tyagi.github.io/triline-doc/docs/qa-process/php-stan"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="PHPStan Introduction! | Triline Docs"><meta data-rh="true" name="description" content="What is PHPStan?"><meta data-rh="true" property="og:description" content="What is PHPStan?"><link data-rh="true" rel="icon" href="/triline-doc/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://vidyaram-tyagi.github.io/triline-doc/docs/qa-process/php-stan"><link data-rh="true" rel="alternate" href="https://vidyaram-tyagi.github.io/triline-doc/docs/qa-process/php-stan" hreflang="en"><link data-rh="true" rel="alternate" href="https://vidyaram-tyagi.github.io/triline-doc/docs/qa-process/php-stan" hreflang="x-default"><script data-rh="true" type="application/ld+json">{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"PHPStan Introduction!","item":"https://vidyaram-tyagi.github.io/triline-doc/docs/qa-process/php-stan"}]}</script><link rel="alternate" type="application/rss+xml" href="/triline-doc/blog/rss.xml" title="Triline Docs RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/triline-doc/blog/atom.xml" title="Triline Docs Atom Feed"><link rel="stylesheet" href="/triline-doc/assets/css/styles.b920ec72.css">
<script src="/triline-doc/assets/js/runtime~main.089fbe46.js" defer="defer"></script>
<script src="/triline-doc/assets/js/main.0c530788.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<svg style="display: none;"><defs>
<symbol id="theme-svg-external-link" viewBox="0 0 24 24"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>!function(){var t=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();document.documentElement.setAttribute("data-theme",t||(window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light")),document.documentElement.setAttribute("data-theme-choice",t||"system")}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><link rel="preload" as="image" href="/triline-doc/img/logo.svg"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="theme-layout-navbar navbar navbar--fixed-top"><div class="navbar__inner"><div class="theme-layout-navbar-left navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/triline-doc/"><div class="navbar__logo"><img src="/triline-doc/img/logo.svg" alt="Triline Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/triline-doc/img/logo.svg" alt="Triline Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">Triline Docs</b></a><a class="navbar__item navbar__link" href="/triline-doc/docs/intro">Docs</a><a class="navbar__item navbar__link" href="/triline-doc/docs/process">Process</a><a class="navbar__item navbar__link" href="/triline-doc/docs/intro2">Spider</a><a class="navbar__item navbar__link" href="/triline-doc/docs/intro4">YLAC-DCP</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/triline-doc/docs/intro-qa-process">QA process</a><a class="navbar__item navbar__link" href="/triline-doc/blog">Blog</a></div><div class="theme-layout-navbar-right navbar__items navbar__items--right"><a href="https://github.com/vidyaram-tyagi/triline-doc" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="system mode" aria-label="Switch between dark and light mode (currently system mode)"><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP systemToggleIcon_QzmC"><path fill="currentColor" d="m12 21c4.971 0 9-4.029 9-9s-4.029-9-9-9-9 4.029-9 9 4.029 9 9 9zm4.95-13.95c1.313 1.313 2.05 3.093 2.05 4.95s-0.738 3.637-2.05 4.95c-1.313 1.313-3.093 2.05-4.95 2.05v-14c1.857 0 3.637 0.737 4.95 2.05z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="theme-layout-main main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/triline-doc/docs/intro-qa-process"><span title="QA Process Overview" class="linkLabel_WmDU">QA Process Overview</span></a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role="button" aria-expanded="true" href="/triline-doc/docs/qa-process/php-stan"><span title="QA Process" class="categoryLinkLabel_W154">QA Process</span></a></div><ul class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role="button" aria-expanded="true" tabindex="0" href="/triline-doc/docs/qa-process/php-stan"><span title="PHPStan" class="categoryLinkLabel_W154">PHPStan</span></a></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/triline-doc/docs/qa-process/php-stan"><span title="PHPStan Introduction!" class="linkLabel_WmDU">PHPStan Introduction!</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/triline-doc/docs/qa-process/advantage_of_phpstan"><span title="Advantage of PHPStan!" class="linkLabel_WmDU">Advantage of PHPStan!</span></a></li></ul></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/triline-doc/docs/qa-process/psr"><span title="psr" class="linkLabel_WmDU">psr</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/triline-doc/docs/qa-process/mochawesome"><span title="Mochawesome: Complete Information" class="linkLabel_WmDU">Mochawesome: Complete Information</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/triline-doc/docs/qa-process/ci-cd-pipelines"><span title="CI/CD Pipelines: Complete Overview" class="linkLabel_WmDU">CI/CD Pipelines: Complete Overview</span></a></li></ul></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/triline-doc/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">QA Process</span></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">PHPStan</span></li><li class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link">PHPStan Introduction!</span></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>PHPStan Introduction!</h1></header>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="what-is-phpstan">What is PHPStan?<a href="#what-is-phpstan" class="hash-link" aria-label="Direct link to What is PHPStan?" title="Direct link to What is PHPStan?" translate="no">‚Äã</a></h2>
<p>PHPStan is a static analysis tool for PHP. It checks your code without executing it, finding potential bugs and improving code quality by enforcing strict typing and best practices.</p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="types-of-errors-detected-by-phpstan">Types of Errors Detected by PHPStan<a href="#types-of-errors-detected-by-phpstan" class="hash-link" aria-label="Direct link to Types of Errors Detected by PHPStan" title="Direct link to Types of Errors Detected by PHPStan" translate="no">‚Äã</a></h2>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="1-type-related-errors">1. Type-Related Errors<a href="#1-type-related-errors" class="hash-link" aria-label="Direct link to 1. Type-Related Errors" title="Direct link to 1. Type-Related Errors" translate="no">‚Äã</a></h3>
<ul>
<li class="">Wrong argument type ‚Äì Passing an int to a function expecting a string.</li>
</ul>
<div class="language-md codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-md codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">Example: </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public function actionIndex()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // Function expects string, but an int is passed</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">         $this-&gt;greetUser(123);   // ‚ùå PHPStan will warn</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token code keyword" style="color:#00009f">    private function greetUser(string $name): void</span><br></span><span class="token-line" style="color:#393A34"><span class="token code keyword" style="color:#00009f">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token code keyword" style="color:#00009f">        \Yii::info(&quot;Hello, $name&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token code keyword" style="color:#00009f">    }</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Fix: $this-&gt;greetUser(&#x27;John&#x27;);</span><br></span></code></pre></div></div>
<ul>
<li class="">Invalid return type ‚Äì A method promises ?User but sometimes returns a plain User or null incorrectly.</li>
</ul>
<div class="language-md codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-md codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">Example:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    /*</span><span class="token italic punctuation" style="color:#393A34">*</span><span class="token italic content"></span><br></span><span class="token-line" style="color:#393A34"><span class="token italic content">        </span><span class="token italic punctuation" style="color:#393A34">*</span><span class="token plain"> @return ?User</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    */</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public function findUserByEmail(string $email): ?User</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // ‚ùå Sometimes returning a string instead of User|null</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        if ($email === &#x27;admin@example.com&#x27;) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            return &quot;admin&quot;;   // Wrong type</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        return User::findOne([&#x27;email&#x27; =&gt; $email]);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Fix: Always return User instance or null.</span><br></span></code></pre></div></div>
<ul>
<li class="">Property type mismatch ‚Äì Assigning an array to a property declared as string[] but containing mixed values.</li>
</ul>
<div class="language-md codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-md codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">Example: </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> /*</span><span class="token italic punctuation" style="color:#393A34">*</span><span class="token italic content"> @var string[] </span><span class="token italic punctuation" style="color:#393A34">*</span><span class="token plain">/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public array $tags = [];</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token code keyword" style="color:#00009f">    public function loadTags(): void</span><br></span><span class="token-line" style="color:#393A34"><span class="token code keyword" style="color:#00009f">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token code keyword" style="color:#00009f">        // ‚ùå Mixed types: integers inside a string[] property</span><br></span><span class="token-line" style="color:#393A34"><span class="token code keyword" style="color:#00009f">        $this-&gt;tags = [&#x27;php&#x27;, 42, &#x27;yii2&#x27;];</span><br></span><span class="token-line" style="color:#393A34"><span class="token code keyword" style="color:#00009f">    }</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Fix: Ensure all elements are strings: [&#x27;php&#x27;, &#x27;yii2&#x27;].</span><br></span></code></pre></div></div>
<ul>
<li class="">Nullable handling ‚Äì Using a variable that might be null without checking.</li>
</ul>
<div class="language-md codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-md codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">Example: </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> public function actionView(int $id)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        $user = User::findOne($id);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token code keyword" style="color:#00009f">        // ‚ùå $user may be null, calling method directly causes error</span><br></span><span class="token-line" style="color:#393A34"><span class="token code keyword" style="color:#00009f">        return $this-&gt;render(&#x27;profile&#x27;, [</span><br></span><span class="token-line" style="color:#393A34"><span class="token code keyword" style="color:#00009f">            &#x27;name&#x27; =&gt; $user-&gt;getFullName(),  // risky</span><br></span><span class="token-line" style="color:#393A34"><span class="token code keyword" style="color:#00009f">        ]);</span><br></span><span class="token-line" style="color:#393A34"><span class="token code keyword" style="color:#00009f">    }</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Fix:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">if ($user === null) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    throw new \yii\web\NotFoundHttpException(&#x27;User not found&#x27;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="2-undefined-or-missing-symbols">2. Undefined or Missing Symbols<a href="#2-undefined-or-missing-symbols" class="hash-link" aria-label="Direct link to 2. Undefined or Missing Symbols" title="Direct link to 2. Undefined or Missing Symbols" translate="no">‚Äã</a></h3>
<ul>
<li class="">Calling methods or accessing properties that don‚Äôt exist.</li>
</ul>
<div class="language-md codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-md codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">Example:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> public function actionIndex()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        $user = User::findOne(1);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token code keyword" style="color:#00009f">        // ‚ùå Method does not exist in User model</span><br></span><span class="token-line" style="color:#393A34"><span class="token code keyword" style="color:#00009f">        $user-&gt;getFullname(); // Typo: actual method is getFullName()</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token code keyword" style="color:#00009f">        // ‚ùå Property does not exist</span><br></span><span class="token-line" style="color:#393A34"><span class="token code keyword" style="color:#00009f">        $x = $user-&gt;birthdate; // Should be $user-&gt;birth_date</span><br></span><span class="token-line" style="color:#393A34"><span class="token code keyword" style="color:#00009f">    }</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Fix: Use the correct method/property names:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$user-&gt;getFullName(); or $user-&gt;birth_date.</span><br></span></code></pre></div></div>
<ul>
<li class="">Referencing undefined classes, constants, or functions.</li>
<li class="">Misspelled variable names.</li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="3-dead-or-unreachable-code">3. Dead or Unreachable Code<a href="#3-dead-or-unreachable-code" class="hash-link" aria-label="Direct link to 3. Dead or Unreachable Code" title="Direct link to 3. Dead or Unreachable Code" translate="no">‚Äã</a></h3>
<ul>
<li class="">Code after return, throw, or exit that can never run.</li>
</ul>
<div class="language-md codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-md codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">Example: </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public function actionExample()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        \Yii::info(&#x27;Start of action&#x27;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token code keyword" style="color:#00009f">        return $this-&gt;renderContent(&#x27;Hello World&#x27;);</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token code keyword" style="color:#00009f">        // ‚ùå Unreachable: will never be executed</span><br></span><span class="token-line" style="color:#393A34"><span class="token code keyword" style="color:#00009f">        \Yii::info(&#x27;This log is never written&#x27;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token code keyword" style="color:#00009f">    }</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token code keyword" style="color:#00009f">    public function actionThrow()</span><br></span><span class="token-line" style="color:#393A34"><span class="token code keyword" style="color:#00009f">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token code keyword" style="color:#00009f">        if (true) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token code keyword" style="color:#00009f">            throw new \yii\web\NotFoundHttpException(&#x27;Not found&#x27;);</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token code keyword" style="color:#00009f">            // ‚ùå Dead code</span><br></span><span class="token-line" style="color:#393A34"><span class="token code keyword" style="color:#00009f">            \Yii::warning(&#x27;This warning is unreachable&#x27;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token code keyword" style="color:#00009f">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token code keyword" style="color:#00009f">    }</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Fix: Remove or move code that appears after a definitive return, throw, or exit.</span><br></span></code></pre></div></div>
<ul>
<li class="">Conditions that are always true or always false.</li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="4-incorrect-method-calls">4. Incorrect Method Calls<a href="#4-incorrect-method-calls" class="hash-link" aria-label="Direct link to 4. Incorrect Method Calls" title="Direct link to 4. Incorrect Method Calls" translate="no">‚Äã</a></h3>
<ul>
<li class="">
<p>Wrong number of arguments in a function or method call.</p>
</li>
<li class="">
<p>Using an object as an array (e.g., $object[&#x27;key&#x27;] when it‚Äôs not ArrayAccess).</p>
</li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="5-strict-type-safety-issues">5. Strict Type Safety Issues<a href="#5-strict-type-safety-issues" class="hash-link" aria-label="Direct link to 5. Strict Type Safety Issues" title="Direct link to 5. Strict Type Safety Issues" translate="no">‚Äã</a></h3>
<ul>
<li class="">
<p>Incompatible array shapes (e.g., expecting <code>array{foo:int}</code> but passing a generic array).</p>
</li>
<li class="">
<p>Mixing integers, floats, and strings in calculations where it may cause unintended conversions.</p>
</li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="6-generics--inheritance-problems">6. Generics &amp; Inheritance Problems<a href="#6-generics--inheritance-problems" class="hash-link" aria-label="Direct link to 6. Generics &amp; Inheritance Problems" title="Direct link to 6. Generics &amp; Inheritance Problems" translate="no">‚Äã</a></h3>
<ul>
<li class="">Violating Liskov substitution (child method signature not compatible with parent). Liskov Substitution Principle (LSP) violation,  where a child class method‚Äôs signature is not compatible with the parent‚Äôs.</li>
<li class="">Incorrect use of generic templates (e.g., <code>Collection&lt;User&gt;</code> but adding a Product).<!-- -->
<div class="language-md codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-md codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    Parameter #1 $item of method Collection</span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">User</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">::add()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    expects app\models\User, app\models\Product given.</span><br></span></code></pre></div></div>
</li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="7-best-practice--quality-warnings">7. Best-Practice &amp; Quality Warnings<a href="#7-best-practice--quality-warnings" class="hash-link" aria-label="Direct link to 7. Best-Practice &amp; Quality Warnings" title="Direct link to 7. Best-Practice &amp; Quality Warnings" translate="no">‚Äã</a></h3>
<ul>
<li class="">Missing @var or @return annotations when needed.</li>
<li class="">Deprecated or removed PHP functions.</li>
<li class="">Detecting missing return statements in non-void functions.<!-- -->
<div class="language-md codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-md codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">  ‚ùå Problematic Example</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &lt;?php</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  namespace app\services;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  use yii\base\BaseObject;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  class Calculator extends BaseObject</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      /*</span><span class="token italic punctuation" style="color:#393A34">*</span><span class="token italic content"></span><br></span><span class="token-line" style="color:#393A34"><span class="token italic content">      </span><span class="token italic punctuation" style="color:#393A34">*</span><span class="token plain"> Calculates discount percentage</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token list punctuation" style="color:#393A34">*</span><span class="token plain"> @param int $amount</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token list punctuation" style="color:#393A34">*</span><span class="token plain"> @return int   // ‚ùå promises to return int</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      */</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      public function getDiscount(int $amount): int</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          if ($amount &gt; 1000) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">              return 20;        // ‚úÖ returns when condition is true</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token code keyword" style="color:#00009f">          // ‚ùå Missing return when $amount &lt;= 1000</span><br></span><span class="token-line" style="color:#393A34"><span class="token code keyword" style="color:#00009f">          // Function ends without returning an int</span><br></span><span class="token-line" style="color:#393A34"><span class="token code keyword" style="color:#00009f">      }</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token title important punctuation" style="color:#393A34">####</span><span class="token title important"> Usage</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      $calc = new \app\services\Calculator();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      $discount = $calc-&gt;getDiscount(500);  // Runtime returns null, not int</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token title important punctuation" style="color:#393A34">####</span><span class="token title important"> PHPStan error (level 6+):</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      Method app\services\Calculator::getDiscount()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      should return int but return statement is missing.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token title important punctuation" style="color:#393A34">####</span><span class="token title important"> ‚úÖ Corrected Example</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  public function getDiscount(int $amount): int</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      if ($amount &gt; 1000) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          return 20;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      // Always return an int</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      return 0;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span></code></pre></div></div>
</li>
</ul>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="how-it-helps-you">How It Helps You<a href="#how-it-helps-you" class="hash-link" aria-label="Direct link to How It Helps You" title="Direct link to How It Helps You" translate="no">‚Äã</a></h4>
<ul>
<li class="">Prevents runtime errors before deployment.</li>
<li class="">Enforces consistent types, reducing bugs in large codebases.</li>
<li class="">Integrates with CI/CD pipelines to block bad code from merging.</li>
</ul>
<div class="theme-admonition theme-admonition-tip admonition_xJq3 alert alert--success"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>TIP</div><div class="admonitionContent_BuS1"><p>Start with a moderate level like --level=5 and gradually increase to higher levels (max is 9) as you fix issues and improve type coverage.</p></div></div>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="-key-features">üîë Key Features<a href="#-key-features" class="hash-link" aria-label="Direct link to üîë Key Features" title="Direct link to üîë Key Features" translate="no">‚Äã</a></h2>
<p>Static type analysis: Finds type mismatches and undefined variables/functions/classes before runtime.
No need for tests to run: Works directly on source code.
Configurable levels (0‚Äì9): Higher levels enforce stricter rules.</p>
<p>Extensible: Supports custom rules, extensions for frameworks like Laravel, Symfony, Yii2.</p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="what-are-the-levels">What are the levels?<a href="#what-are-the-levels" class="hash-link" aria-label="Direct link to What are the levels?" title="Direct link to What are the levels?" translate="no">‚Äã</a></h2>
<p>In PHPStan, the level setting controls how strict the analysis is‚Äîfrom very basic checks to extremely strict type safety.</p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="-levels-overview">üìä Levels Overview<a href="#-levels-overview" class="hash-link" aria-label="Direct link to üìä Levels Overview" title="Direct link to üìä Levels Overview" translate="no">‚Äã</a></h2>
<p>Range: 0 ‚Üí 9 (and there‚Äôs also a special max alias for the highest level)</p>
<p>Meaning:
Low level = basic errors only.
High level = deep type analysis and strict rules.</p>
<pre> | Level       | Focus / Typical Checks |
|----------|------------------------|
| 0   | Syntax errors, unknown classes/functions, undefined variables. |
| 1‚Äì2 | Adds checks for return types, argument types, simple type mismatches. |
| 3‚Äì4 | Stricter checks on property types, array shapes, nullability. |
| 5‚Äì6 | Ensures correct typehints everywhere, deeper flow analysis, generics,  interface rules. |
| 7‚Äì8 | Advanced generics, template types, stricter null/union handling. |
| 9   | Maximum strictness‚Äîcatches even subtle edge cases, forces precise typing. |</pre>
<p>max is just an alias for the current highest level (currently 9).</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="-best-practice">üöÄ Best Practice<a href="#-best-practice" class="hash-link" aria-label="Direct link to üöÄ Best Practice" title="Direct link to üöÄ Best Practice" translate="no">‚Äã</a></h3>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="start-low-climb-up">Start Low, Climb Up<a href="#start-low-climb-up" class="hash-link" aria-label="Direct link to Start Low, Climb Up" title="Direct link to Start Low, Climb Up" translate="no">‚Äã</a></h4>
<p>Begin with level: 0 or 1, fix issues, then raise to 2, and so on until you reach the level that balances safety and effort (many teams settle at 7 or 8).</p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="ci-integration">CI Integration<a href="#ci-integration" class="hash-link" aria-label="Direct link to CI Integration" title="Direct link to CI Integration" translate="no">‚Äã</a></h4>
<p>Keep the chosen level in CI so code can‚Äôt be merged unless it passes that strictness. See details below.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="more-details">More details:<a href="#more-details" class="hash-link" aria-label="Direct link to More details:" title="Direct link to More details:" translate="no">‚Äã</a></h3>
<p>PHPStan requires PHP &gt;= 7.4. You have to run it in an environment with PHP 7.x but the actual code does not have to use PHP 7.x features. (Code written for PHP 5.6 and earlier can run on 7.x mostly unmodified.)</p>
<p>PHPStan works best with modern object-oriented code. The more strongly-typed your code is, the more information you give PHPStan to work with.</p>
<p>Properly annotated and typehinted code (class properties, function and method arguments, return types) helps not only static analysis tools but also other people that work with the code to understand it.</p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="installation">Installation<a href="#installation" class="hash-link" aria-label="Direct link to Installation" title="Direct link to Installation" translate="no">‚Äã</a></h2>
<p>To start performing analysis on your code, require PHPStan in Composer:</p>
<div class="language-md codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockTitle_OeMC">Install by composer</div><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-md codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">composer require --dev phpstan/phpstan</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre></div></div>
<p>Composer will install PHPStan‚Äôs executable in its bin-dir which defaults to vendor/bin.</p>
<p>You can also download the latest PHAR and just use that. But without Composer, you won‚Äôt be able to install and use PHPStan extensions.</p>
<hr>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="learn-more-about-command-line-options"><span style="font-size:0.5em">Learn more about command line options</span><a href="#learn-more-about-command-line-options" class="hash-link" aria-label="Direct link to learn-more-about-command-line-options" title="Direct link to learn-more-about-command-line-options" translate="no">‚Äã</a></h2>
<ul>
<li class="">PHPStan will probably find some errors, but don‚Äôt worry, your code might be just fine. Errors found on the first run tend to be:</li>
<li class="">Extra arguments passed to functions (e. g. function requires two arguments, the code passes three)</li>
<li class="">Extra arguments passed to print/sprintf functions (e. g. format string contains one placeholder, the code passes two values to replace)</li>
<li class="">Obvious errors in dead code</li>
<li class="">Unknown symbols - like ‚Äúclass not found‚Äù</li>
</ul>
<p>By default, PHPStan runs only the most basic checks. Head to Rule Levels to learn how to turn on stricter checks.</p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="Ô∏è-running-phpstan">‚ñ∂Ô∏è Running PHPStan<a href="#Ô∏è-running-phpstan" class="hash-link" aria-label="Direct link to ‚ñ∂Ô∏è Running PHPStan" title="Direct link to ‚ñ∂Ô∏è Running PHPStan" translate="no">‚Äã</a></h2>
<p>Note: Run all commands on root directory (means under in project folder)</p>
<div class="theme-admonition theme-admonition-tip admonition_xJq3 alert alert--success"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>Scan src directory:</div><div class="admonitionContent_BuS1"><h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="vendorbinphpstan-analyse-src">vendor/bin/phpstan analyse src<a href="#vendorbinphpstan-analyse-src" class="hash-link" aria-label="Direct link to vendor/bin/phpstan analyse src" title="Direct link to vendor/bin/phpstan analyse src" translate="no">‚Äã</a></h3></div></div>
<div class="language-md codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockTitle_OeMC">You can also specify files:</div><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-md codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">vendor/bin/phpstan analyse app/Controllers</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre></div></div>
<div class="language-md codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockTitle_OeMC">Typical Yii2/other PHP projects often have directories like:</div><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-md codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">backend/  common/  frontend/  console/  api/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre></div></div>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="so-its-run-like-below">So, It‚Äôs run like below:<a href="#so-its-run-like-below" class="hash-link" aria-label="Direct link to So, It‚Äôs run like below:" title="Direct link to So, It‚Äôs run like below:" translate="no">‚Äã</a></h2>
<p>Instead of src, give the real folder(s) that contain PHP code. For example:</p>
<div class="language-md codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-md codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">        vendor/bin/phpstan analyse backend</span><br></span></code></pre></div></div>
<div class="theme-admonition theme-admonition-tip admonition_xJq3 alert alert--success"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>Scan multiple directory:</div><div class="admonitionContent_BuS1"><h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="vendorbinphpstan-analyse-backend-common-frontend">vendor/bin/phpstan analyse backend common frontend<a href="#vendorbinphpstan-analyse-backend-common-frontend" class="hash-link" aria-label="Direct link to vendor/bin/phpstan analyse backend common frontend" title="Direct link to vendor/bin/phpstan analyse backend common frontend" translate="no">‚Äã</a></h4></div></div>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="edit-or-create-a-phpstanneon-or-phpstanneondist-in-the-project-root-this-file-contain-all-rules-of-phpstan">Edit or create a phpstan.neon (or phpstan.neon.dist) in the project root: This file contain all rules of phpstan<a href="#edit-or-create-a-phpstanneon-or-phpstanneondist-in-the-project-root-this-file-contain-all-rules-of-phpstan" class="hash-link" aria-label="Direct link to Edit or create a phpstan.neon (or phpstan.neon.dist) in the project root: This file contain all rules of phpstan" title="Direct link to Edit or create a phpstan.neon (or phpstan.neon.dist) in the project root: This file contain all rules of phpstan" translate="no">‚Äã</a></h4>
<div class="language-md codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-md codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">parameters:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    level: 1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    paths:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token list punctuation" style="color:#393A34">-</span><span class="token plain"> backend</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token list punctuation" style="color:#393A34">-</span><span class="token plain"> common</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token list punctuation" style="color:#393A34">-</span><span class="token plain"> frontend</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    bootstrapFiles:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token list punctuation" style="color:#393A34">-</span><span class="token plain"> vendor/autoload.php</span><br></span></code></pre></div></div>
<div class="theme-admonition theme-admonition-tip admonition_xJq3 alert alert--success"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>If you want to ignore vendor/ or runtime/ folders than add below content in phpstan.neon</div><div class="admonitionContent_BuS1"><div class="language-md codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-md codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">   excludePaths:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token list punctuation" style="color:#393A34">-</span><span class="token plain"> vendor</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token list punctuation" style="color:#393A34">-</span><span class="token plain"> runtime</span><br></span></code></pre></div></div></div></div>
<div class="language-md codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-md codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">Find some example with error after run:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Error log:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token hr punctuation" style="color:#393A34">------ ------------------------------------------------</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  Line   backend/helper/PopupButton.php                  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token hr punctuation" style="color:#393A34">------ ------------------------------------------------</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  :5     Class Yii referenced with incorrect case: yii.  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">         ü™™  class.nameCase                              </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token hr punctuation" style="color:#393A34">------ ------------------------------------------------</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Project code:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;?php</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">namespace backend\helper;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">use yii;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">s/b</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;?php</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">namespace backend\helper;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">use Yii;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">‚Äî--------------------------------------------</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Error log:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token hr punctuation" style="color:#393A34">------ ----------------------------------------------------------------------------------------------------</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  Line   backend/modules/baseline/controllers/DefaultController.php                                          </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">--------------------------------------------------------------  :330   Call to an undefined static method yii\web\Controller::beforeSave().                                </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">         ü™™  staticMethod.notFound                                                                           </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  :332   Call to an undefined static method backend\modules\baseline\controllers\DefaultController::find().  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">         ü™™  staticMethod.notFound                                                                           </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token hr punctuation" style="color:#393A34">------ ----------------------------------------------------------------------------------------------------</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Project code:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">PHPStan is correct here: you are calling ActiveRecord model methods (beforeSave() and find()) inside a controller.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> yii\web\Controller doesn‚Äôt have those methods, so static analysis flags them.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">What‚Äôs Happening</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Your DefaultController extends something like:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">class DefaultController extends \yii\web\Controller</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">But you wrote:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public function beforeSave($insert)  // ‚ùå belongs to a model, not a controller</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    if (parent::beforeSave($insert)) {  // Controller has no beforeSave()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        if ($this-&gt;isNewRecord) {       // Controller has no isNewRecord</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            $max = self::find()-&gt;max(&#x27;sort_order&#x27;); // Controller has no find()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            $this-&gt;sort_order = $max + 1;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        return true;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    return false;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">‚úîÔ∏è Why This Is Wrong</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">beforeSave(), isNewRecord, find(), and sort_order are part of yii\db\ActiveRecord models, not controllers.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">A controller is meant to handle requests/responses, not directly represent database rows.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">‚Äî-----------------------------------------------------</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Error log:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token hr punctuation" style="color:#393A34">------ -------------------------------------------------------------------</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  Line   backend/modules/endline/views/default/endline.php                  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token hr punctuation" style="color:#393A34">------ -------------------------------------------------------------------</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  :104   Call to an undefined static method Yii::t().                       </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">         ü™™  staticMethod.notFound                                          </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  :105   Array has 2 duplicate keys with value &#x27;class&#x27; (&#x27;class&#x27;, &#x27;class&#x27;).  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">         ü™™  array.duplicateKey                                             </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  :227   Call to an undefined static method Yii::t().                       </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">         ü™™  staticMethod.notFound                                          </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  :228   Array has 2 duplicate keys with value &#x27;class&#x27; (&#x27;class&#x27;, &#x27;class&#x27;).  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">         ü™™  array.duplicateKey                                             </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token hr punctuation" style="color:#393A34">------ -------------------------------------------------------------------</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Project code: </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   &#x27;buttons&#x27; =&gt; [</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          &#x27;update&#x27; =&gt; function ($url, $model) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">              return Html::a(&#x27;</span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">i</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">class</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">feather icon-edit</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">i</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"> Update&#x27;, [&#x27;update&#x27;, &#x27;id&#x27; =&gt; $model-&gt;id], [</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    &#x27;title&#x27; =&gt; Yii::t(&#x27;app&#x27;, &#x27;Update &#x27;),</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    &#x27;class&#x27; =&gt; &#x27;&#x27;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    &#x27;data-pjax&#x27; =&gt; &quot;0&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    &#x27;class&#x27; =&gt; &#x27;btn btn-custom&#x27;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                  ]) . &#x27; &#x27;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">             },</span><br></span></code></pre></div></div>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">Analysis on errors</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Here‚Äôs a practical way to categorize the PHPStan errors from your phpstan-report.txt so you can fix them from easy ‚Üí hard.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">üü¢ 1. Very Easy / Quick Fixes</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    (Find &amp; replace or one-line edits)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    - Case issues</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        class.nameCase ‚Äì e.g. use yii; instead of use Yii;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        Fix: Correct class names to match the real case.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    - Duplicate array keys</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        array.duplicateKey ‚Äì two identical keys in an array.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        Fix: Remove or rename duplicates.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    - Trailing whitespace / closing ?&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        whitespace.fileEnd ‚Äì delete the final ?&gt; or blank space.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    - Deprecated parameter order</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        parameter.requiredAfterOptional ‚Äì move required parameter before optional.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">üü° 2. Moderate ‚Äì Missing or Wrong Calls</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">(Need to inspect code but usually straightforward)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Undefined variable</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> variable.undefined ‚Äì declare or pass the variable.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Missing return</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> return.missing ‚Äì make sure the method returns the expected type (array, Response, etc.).</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Method result used when method is void</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> method.void ‚Äì don‚Äôt use the return value, or change the method to return something meaningful.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Static call to instance method / wrong static method</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> method.staticCall ‚Äì call it on an object, or mark method static if appropriate.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">üü† 3. Framework-Specific / Config Issues</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">(Need Yii2 knowledge)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Undefined static method on Yii</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> staticMethod.notFound ‚Äì e.g. Yii::t() or Yii::createObject()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> ‚Üí Add use Yii; or configure stubs so PHPStan knows about Yii‚Äôs magic methods.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Controller calling ActiveRecord methods</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> e.g. Controller::beforeSave() or find() in a controller.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> ‚Üí Move that logic to the model.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Unknown class from third-party packages</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> class.notFound ‚Äì e.g. kartik\widgets\FileInput, common\models\GeneralModel.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> ‚Üí Install the package, add autoload paths, or fix the namespace.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">üî¥ 4. Hard / Architectural</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">(Need refactor or missing code)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Big missing classes / traits</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> e.g. backend\tests\_generated\FunctionalTesterActions not found.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> ‚Üí Re-generate code (e.g. Codeception build) or add those files.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Business-logic redesign</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> e.g. controllers mixing DB logic, or large methods without returns.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> ‚Üí Requires code refactoring and testing.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">‚úÖ Suggested Workflow</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Start with Green (Very Easy)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> Quick global search &amp; replace, remove duplicate keys, fix case.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Move to Yellow (Moderate)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> Add missing returns, define variables, correct static/instance usage.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Then Orange (Framework)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> Ensure Yii is correctly autoloaded, install missing extensions, add PHPStan Yii2 extension/stubs.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Finally Red (Hard)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> Regenerate tests, restructure controllers/models, write missing classes.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">This priority lets you reduce hundreds of warnings quickly and focus your time on the deeper design issues later.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre></div></div></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col noPrint_WFHX"><a href="https://github.com/vidyaram-tyagi/triline-doc/tree/main/docs/qa-process/php-stan.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_JAkA"></div></div></footer></article><nav class="docusaurus-mt-lg pagination-nav" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/triline-doc/docs/intro-qa-process"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">QA Process Overview</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/triline-doc/docs/qa-process/advantage_of_phpstan"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Advantage of PHPStan!</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#what-is-phpstan" class="table-of-contents__link toc-highlight">What is PHPStan?</a></li><li><a href="#types-of-errors-detected-by-phpstan" class="table-of-contents__link toc-highlight">Types of Errors Detected by PHPStan</a><ul><li><a href="#1-type-related-errors" class="table-of-contents__link toc-highlight">1. Type-Related Errors</a></li><li><a href="#2-undefined-or-missing-symbols" class="table-of-contents__link toc-highlight">2. Undefined or Missing Symbols</a></li><li><a href="#3-dead-or-unreachable-code" class="table-of-contents__link toc-highlight">3. Dead or Unreachable Code</a></li><li><a href="#4-incorrect-method-calls" class="table-of-contents__link toc-highlight">4. Incorrect Method Calls</a></li><li><a href="#5-strict-type-safety-issues" class="table-of-contents__link toc-highlight">5. Strict Type Safety Issues</a></li><li><a href="#6-generics--inheritance-problems" class="table-of-contents__link toc-highlight">6. Generics &amp; Inheritance Problems</a></li><li><a href="#7-best-practice--quality-warnings" class="table-of-contents__link toc-highlight">7. Best-Practice &amp; Quality Warnings</a></li></ul></li><li><a href="#-key-features" class="table-of-contents__link toc-highlight">üîë Key Features</a></li><li><a href="#what-are-the-levels" class="table-of-contents__link toc-highlight">What are the levels?</a></li><li><a href="#-levels-overview" class="table-of-contents__link toc-highlight">üìä Levels Overview</a><ul><li><a href="#-best-practice" class="table-of-contents__link toc-highlight">üöÄ Best Practice</a></li><li><a href="#more-details" class="table-of-contents__link toc-highlight">More details:</a></li></ul></li><li><a href="#installation" class="table-of-contents__link toc-highlight">Installation</a></li><li><a href="#learn-more-about-command-line-options" class="table-of-contents__link toc-highlight"><span>Learn more about command line options</span></a></li><li><a href="#Ô∏è-running-phpstan" class="table-of-contents__link toc-highlight">‚ñ∂Ô∏è Running PHPStan</a><ul><li><a href="#vendorbinphpstan-analyse-src" class="table-of-contents__link toc-highlight">vendor/bin/phpstan analyse src</a></li></ul></li><li><a href="#so-its-run-like-below" class="table-of-contents__link toc-highlight">So, It‚Äôs run like below:</a></li></ul></div></div></div></div></main></div></div></div><footer class="theme-layout-footer footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/triline-doc/docs/intro">Introduction</a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/vidyaram-tyagi/triline-doc" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/triline-doc/blog">Blog</a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright ¬© 2026 Triline.
      Built with Docusaurus.</div></div></div></footer></div>
</body>
</html>