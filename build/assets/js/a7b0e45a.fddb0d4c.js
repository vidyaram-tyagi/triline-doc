"use strict";(globalThis.webpackChunkmy_website=globalThis.webpackChunkmy_website||[]).push([[9068],{3943(e,n,t){t.r(n),t.d(n,{assets:()=>l,contentTitle:()=>o,default:()=>h,frontMatter:()=>a,metadata:()=>s,toc:()=>c});const s=JSON.parse('{"id":"qa-process/php-stan","title":"PHPStan Introduction!","description":"What is PHPStan?","source":"@site/docs/qa-process/php-stan.md","sourceDirName":"qa-process","slug":"/qa-process/php-stan","permalink":"/triline-doc/docs/qa-process/php-stan","draft":false,"unlisted":false,"editUrl":"https://github.com/vidyaram-tyagi/triline-doc/tree/main/docs/qa-process/php-stan.md","tags":[],"version":"current","sidebarPosition":1,"frontMatter":{"sidebar_position":1},"sidebar":"qaprocessSidebar","previous":{"title":"QA Process Overview","permalink":"/triline-doc/docs/intro-qa-process"},"next":{"title":"Advantage of PHPStan!","permalink":"/triline-doc/docs/qa-process/advantage_of_phpstan"}}');var i=t(4848),r=t(8453);const a={sidebar_position:1},o="PHPStan Introduction!",l={},c=[{value:"What is PHPStan?",id:"what-is-phpstan",level:2},{value:"Types of Errors Detected by PHPStan",id:"types-of-errors-detected-by-phpstan",level:2},{value:"1. Type-Related Errors",id:"1-type-related-errors",level:3},{value:"2. Undefined or Missing Symbols",id:"2-undefined-or-missing-symbols",level:3},{value:"3. Dead or Unreachable Code",id:"3-dead-or-unreachable-code",level:3},{value:"4. Incorrect Method Calls",id:"4-incorrect-method-calls",level:3},{value:"5. Strict Type Safety Issues",id:"5-strict-type-safety-issues",level:3},{value:"6. Generics &amp; Inheritance Problems",id:"6-generics--inheritance-problems",level:3},{value:"7. Best-Practice &amp; Quality Warnings",id:"7-best-practice--quality-warnings",level:3},{value:"How It Helps You",id:"how-it-helps-you",level:4},{value:"\ud83d\udd11 Key Features",id:"-key-features",level:2},{value:"What are the levels?",id:"what-are-the-levels",level:2},{value:"\ud83d\udcca Levels Overview",id:"-levels-overview",level:2},{value:"\ud83d\ude80 Best Practice",id:"-best-practice",level:3},{value:"Start Low, Climb Up",id:"start-low-climb-up",level:4},{value:"CI Integration",id:"ci-integration",level:4},{value:"More details:",id:"more-details",level:3},{value:"Installation",id:"installation",level:2},{value:"<span>Learn more about command line options</span>",id:"learn-more-about-command-line-options",level:2},{value:"\u25b6\ufe0f Running PHPStan",id:"\ufe0f-running-phpstan",level:2},{value:"vendor/bin/phpstan analyse src",id:"vendorbinphpstan-analyse-src",level:3},{value:"So, It\u2019s run like below:",id:"so-its-run-like-below",level:2},{value:"vendor/bin/phpstan analyse backend common frontend",id:"vendorbinphpstan-analyse-backend-common-frontend",level:4},{value:"Edit or create a phpstan.neon (or phpstan.neon.dist) in the project root: This file contain all rules of phpstan",id:"edit-or-create-a-phpstanneon-or-phpstanneondist-in-the-project-root-this-file-contain-all-rules-of-phpstan",level:4}];function d(e){const n={admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",hr:"hr",li:"li",p:"p",pre:"pre",ul:"ul",...(0,r.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.header,{children:(0,i.jsx)(n.h1,{id:"phpstan-introduction",children:"PHPStan Introduction!"})}),"\n",(0,i.jsx)(n.h2,{id:"what-is-phpstan",children:"What is PHPStan?"}),"\n",(0,i.jsx)(n.p,{children:"PHPStan is a static analysis tool for PHP. It checks your code without executing it, finding potential bugs and improving code quality by enforcing strict typing and best practices."}),"\n",(0,i.jsx)(n.h2,{id:"types-of-errors-detected-by-phpstan",children:"Types of Errors Detected by PHPStan"}),"\n",(0,i.jsx)(n.h3,{id:"1-type-related-errors",children:"1. Type-Related Errors"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Wrong argument type \u2013 Passing an int to a function expecting a string."}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-md",children:"Example: \n    public function actionIndex()\n    {\n        // Function expects string, but an int is passed\n         $this->greetUser(123);   // \u274c PHPStan will warn\n    }\n\n    private function greetUser(string $name): void\n    {\n        \\Yii::info(\"Hello, $name\");\n    }\n\nFix: $this->greetUser('John');\n"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Invalid return type \u2013 A method promises ?User but sometimes returns a plain User or null incorrectly."}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-md",children:"Example:\n    /**\n        * @return ?User\n    */\n    public function findUserByEmail(string $email): ?User\n    {\n        // \u274c Sometimes returning a string instead of User|null\n        if ($email === 'admin@example.com') {\n            return \"admin\";   // Wrong type\n        }\n        return User::findOne(['email' => $email]);\n    }\nFix: Always return User instance or null.\n"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Property type mismatch \u2013 Assigning an array to a property declared as string[] but containing mixed values."}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-md",children:"Example: \n /** @var string[] */\n    public array $tags = [];\n\n    public function loadTags(): void\n    {\n        // \u274c Mixed types: integers inside a string[] property\n        $this->tags = ['php', 42, 'yii2'];\n    }\n\nFix: Ensure all elements are strings: ['php', 'yii2'].\n"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Nullable handling \u2013 Using a variable that might be null without checking."}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-md",children:"Example: \n public function actionView(int $id)\n    {\n        $user = User::findOne($id);\n\n        // \u274c $user may be null, calling method directly causes error\n        return $this->render('profile', [\n            'name' => $user->getFullName(),  // risky\n        ]);\n    }\nFix:\nif ($user === null) {\n    throw new \\yii\\web\\NotFoundHttpException('User not found');\n}\n"})}),"\n",(0,i.jsx)(n.h3,{id:"2-undefined-or-missing-symbols",children:"2. Undefined or Missing Symbols"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Calling methods or accessing properties that don\u2019t exist."}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-md",children:"Example:\n public function actionIndex()\n    {\n        $user = User::findOne(1);\n\n        // \u274c Method does not exist in User model\n        $user->getFullname(); // Typo: actual method is getFullName()\n\n        // \u274c Property does not exist\n        $x = $user->birthdate; // Should be $user->birth_date\n    }\n}\n\nFix: Use the correct method/property names:\n$user->getFullName(); or $user->birth_date.\n"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Referencing undefined classes, constants, or functions."}),"\n",(0,i.jsx)(n.li,{children:"Misspelled variable names."}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"3-dead-or-unreachable-code",children:"3. Dead or Unreachable Code"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Code after return, throw, or exit that can never run."}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-md",children:"Example: \n    public function actionExample()\n    {\n        \\Yii::info('Start of action');\n\n        return $this->renderContent('Hello World');\n\n        // \u274c Unreachable: will never be executed\n        \\Yii::info('This log is never written');\n    }\n\n    public function actionThrow()\n    {\n        if (true) {\n            throw new \\yii\\web\\NotFoundHttpException('Not found');\n\n            // \u274c Dead code\n            \\Yii::warning('This warning is unreachable');\n        }\n    }\nFix: Remove or move code that appears after a definitive return, throw, or exit.\n"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Conditions that are always true or always false."}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"4-incorrect-method-calls",children:"4. Incorrect Method Calls"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"Wrong number of arguments in a function or method call."}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"Using an object as an array (e.g., $object['key'] when it\u2019s not ArrayAccess)."}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"5-strict-type-safety-issues",children:"5. Strict Type Safety Issues"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:["Incompatible array shapes (e.g., expecting ",(0,i.jsx)(n.code,{children:"array{foo:int}"})," but passing a generic array)."]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"Mixing integers, floats, and strings in calculations where it may cause unintended conversions."}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"6-generics--inheritance-problems",children:"6. Generics & Inheritance Problems"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Violating Liskov substitution (child method signature not compatible with parent). Liskov Substitution Principle (LSP) violation,  where a child class method\u2019s signature is not compatible with the parent\u2019s."}),"\n",(0,i.jsxs)(n.li,{children:["Incorrect use of generic templates (e.g., ",(0,i.jsx)(n.code,{children:"Collection<User>"})," but adding a Product).","\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-md",metastring:"above error if generated then PHPStan Will Report",children:"    Parameter #1 $item of method Collection<User>::add()\n    expects app\\models\\User, app\\models\\Product given.\n"})}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"7-best-practice--quality-warnings",children:"7. Best-Practice & Quality Warnings"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Missing @var or @return annotations when needed."}),"\n",(0,i.jsx)(n.li,{children:"Deprecated or removed PHP functions."}),"\n",(0,i.jsxs)(n.li,{children:["Detecting missing return statements in non-void functions.","\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-md",metastring:"Example: ",children:"  \u274c Problematic Example\n  <?php\n  namespace app\\services;\n  use yii\\base\\BaseObject;\n\n  class Calculator extends BaseObject\n  {\n      /**\n      * Calculates discount percentage\n      * @param int $amount\n      * @return int   // \u274c promises to return int\n      */\n      public function getDiscount(int $amount): int\n      {\n          if ($amount > 1000) {\n              return 20;        // \u2705 returns when condition is true\n          }\n\n          // \u274c Missing return when $amount <= 1000\n          // Function ends without returning an int\n      }\n  }\n\n  #### Usage\n      $calc = new \\app\\services\\Calculator();\n      $discount = $calc->getDiscount(500);  // Runtime returns null, not int\n\n  #### PHPStan error (level 6+):\n      Method app\\services\\Calculator::getDiscount()\n      should return int but return statement is missing.\n\n\n  #### \u2705 Corrected Example\n  public function getDiscount(int $amount): int\n  {\n      if ($amount > 1000) {\n          return 20;\n      }\n      // Always return an int\n      return 0;\n  }\n"})}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.h4,{id:"how-it-helps-you",children:"How It Helps You"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Prevents runtime errors before deployment."}),"\n",(0,i.jsx)(n.li,{children:"Enforces consistent types, reducing bugs in large codebases."}),"\n",(0,i.jsx)(n.li,{children:"Integrates with CI/CD pipelines to block bad code from merging."}),"\n"]}),"\n",(0,i.jsx)(n.admonition,{title:"TIP",type:"tip",children:(0,i.jsx)(n.p,{children:"Start with a moderate level like --level=5 and gradually increase to higher levels (max is 9) as you fix issues and improve type coverage."})}),"\n",(0,i.jsx)(n.h2,{id:"-key-features",children:"\ud83d\udd11 Key Features"}),"\n",(0,i.jsx)(n.p,{children:"Static type analysis: Finds type mismatches and undefined variables/functions/classes before runtime.\nNo need for tests to run: Works directly on source code.\nConfigurable levels (0\u20139): Higher levels enforce stricter rules."}),"\n",(0,i.jsx)(n.p,{children:"Extensible: Supports custom rules, extensions for frameworks like Laravel, Symfony, Yii2."}),"\n",(0,i.jsx)(n.h2,{id:"what-are-the-levels",children:"What are the levels?"}),"\n",(0,i.jsx)(n.p,{children:"In PHPStan, the level setting controls how strict the analysis is\u2014from very basic checks to extremely strict type safety."}),"\n",(0,i.jsx)(n.h2,{id:"-levels-overview",children:"\ud83d\udcca Levels Overview"}),"\n",(0,i.jsx)(n.p,{children:"Range: 0 \u2192 9 (and there\u2019s also a special max alias for the highest level)"}),"\n",(0,i.jsx)(n.p,{children:"Meaning:\nLow level = basic errors only.\nHigh level = deep type analysis and strict rules."}),"\n",(0,i.jsx)("pre",{children:" | Level       | Focus / Typical Checks |\n|----------|------------------------|\n| 0   | Syntax errors, unknown classes/functions, undefined variables. |\n| 1\u20132 | Adds checks for return types, argument types, simple type mismatches. |\n| 3\u20134 | Stricter checks on property types, array shapes, nullability. |\n| 5\u20136 | Ensures correct typehints everywhere, deeper flow analysis, generics,  interface rules. |\n| 7\u20138 | Advanced generics, template types, stricter null/union handling. |\n| 9   | Maximum strictness\u2014catches even subtle edge cases, forces precise typing. |"}),"\n",(0,i.jsx)(n.p,{children:"max is just an alias for the current highest level (currently 9)."}),"\n",(0,i.jsx)(n.h3,{id:"-best-practice",children:"\ud83d\ude80 Best Practice"}),"\n",(0,i.jsx)(n.h4,{id:"start-low-climb-up",children:"Start Low, Climb Up"}),"\n",(0,i.jsx)(n.p,{children:"Begin with level: 0 or 1, fix issues, then raise to 2, and so on until you reach the level that balances safety and effort (many teams settle at 7 or 8)."}),"\n",(0,i.jsx)(n.h4,{id:"ci-integration",children:"CI Integration"}),"\n",(0,i.jsx)(n.p,{children:"Keep the chosen level in CI so code can\u2019t be merged unless it passes that strictness. See details below."}),"\n",(0,i.jsx)(n.h3,{id:"more-details",children:"More details:"}),"\n",(0,i.jsx)(n.p,{children:"PHPStan requires PHP >= 7.4. You have to run it in an environment with PHP 7.x but the actual code does not have to use PHP 7.x features. (Code written for PHP 5.6 and earlier can run on 7.x mostly unmodified.)"}),"\n",(0,i.jsx)(n.p,{children:"PHPStan works best with modern object-oriented code. The more strongly-typed your code is, the more information you give PHPStan to work with."}),"\n",(0,i.jsx)(n.p,{children:"Properly annotated and typehinted code (class properties, function and method arguments, return types) helps not only static analysis tools but also other people that work with the code to understand it."}),"\n",(0,i.jsx)(n.h2,{id:"installation",children:"Installation"}),"\n",(0,i.jsx)(n.p,{children:"To start performing analysis on your code, require PHPStan in Composer:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-md",metastring:'title="Install by composer"',children:"\ncomposer require --dev phpstan/phpstan\n\n"})}),"\n",(0,i.jsx)(n.p,{children:"Composer will install PHPStan\u2019s executable in its bin-dir which defaults to vendor/bin."}),"\n",(0,i.jsx)(n.p,{children:"You can also download the latest PHAR and just use that. But without Composer, you won\u2019t be able to install and use PHPStan extensions."}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"learn-more-about-command-line-options",children:(0,i.jsx)("span",{style:{fontSize:"0.5em"},children:"Learn more about command line options"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"PHPStan will probably find some errors, but don\u2019t worry, your code might be just fine. Errors found on the first run tend to be:"}),"\n",(0,i.jsx)(n.li,{children:"Extra arguments passed to functions (e. g. function requires two arguments, the code passes three)"}),"\n",(0,i.jsx)(n.li,{children:"Extra arguments passed to print/sprintf functions (e. g. format string contains one placeholder, the code passes two values to replace)"}),"\n",(0,i.jsx)(n.li,{children:"Obvious errors in dead code"}),"\n",(0,i.jsx)(n.li,{children:"Unknown symbols - like \u201cclass not found\u201d"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"By default, PHPStan runs only the most basic checks. Head to Rule Levels to learn how to turn on stricter checks."}),"\n",(0,i.jsx)(n.h2,{id:"\ufe0f-running-phpstan",children:"\u25b6\ufe0f Running PHPStan"}),"\n",(0,i.jsx)(n.p,{children:"Note: Run all commands on root directory (means under in project folder)"}),"\n",(0,i.jsx)(n.admonition,{title:"Scan src directory:",type:"tip",children:(0,i.jsx)(n.h3,{id:"vendorbinphpstan-analyse-src",children:"vendor/bin/phpstan analyse src"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-md",metastring:'title="You can also specify files:"',children:"\nvendor/bin/phpstan analyse app/Controllers\n\n\n"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-md",metastring:'title="Typical Yii2/other PHP projects often have directories like:"',children:"\nbackend/  common/  frontend/  console/  api/\n\n\n"})}),"\n",(0,i.jsx)(n.h2,{id:"so-its-run-like-below",children:"So, It\u2019s run like below:"}),"\n",(0,i.jsx)(n.p,{children:"Instead of src, give the real folder(s) that contain PHP code. For example:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-md",children:"        vendor/bin/phpstan analyse backend\n"})}),"\n",(0,i.jsx)(n.admonition,{title:"Scan multiple directory:",type:"tip",children:(0,i.jsx)(n.h4,{id:"vendorbinphpstan-analyse-backend-common-frontend",children:"vendor/bin/phpstan analyse backend common frontend"})}),"\n",(0,i.jsx)(n.h4,{id:"edit-or-create-a-phpstanneon-or-phpstanneondist-in-the-project-root-this-file-contain-all-rules-of-phpstan",children:"Edit or create a phpstan.neon (or phpstan.neon.dist) in the project root: This file contain all rules of phpstan"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-md",children:"parameters:\n    level: 1\n    paths:\n        - backend\n        - common\n        - frontend\n    bootstrapFiles:\n        - vendor/autoload.php\n"})}),"\n",(0,i.jsx)(n.admonition,{title:"If you want to ignore vendor/ or runtime/ folders than add below content in phpstan.neon",type:"tip",children:(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-md",children:"   excludePaths:\n    - vendor\n    - runtime\n"})})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-md",children:"Find some example with error after run:\nError log:\n ------ ------------------------------------------------ \n  Line   backend/helper/PopupButton.php                  \n ------ ------------------------------------------------ \n  :5     Class Yii referenced with incorrect case: yii.  \n         \ud83e\udeaa  class.nameCase                              \n ------ ------------------------------------------------ \nProject code:\n<?php\n\nnamespace backend\\helper;\nuse yii;\n\ns/b\n<?php\nnamespace backend\\helper;\nuse Yii;\n\u2014--------------------------------------------\nError log:\n ------ ---------------------------------------------------------------------------------------------------- \n  Line   backend/modules/baseline/controllers/DefaultController.php                                          \n--------------------------------------------------------------  :330   Call to an undefined static method yii\\web\\Controller::beforeSave().                                \n         \ud83e\udeaa  staticMethod.notFound                                                                           \n  :332   Call to an undefined static method backend\\modules\\baseline\\controllers\\DefaultController::find().  \n         \ud83e\udeaa  staticMethod.notFound                                                                           \n ------ ---------------------------------------------------------------------------------------------------- \n\n\nProject code:\n\nPHPStan is correct here: you are calling ActiveRecord model methods (beforeSave() and find()) inside a controller.\n yii\\web\\Controller doesn\u2019t have those methods, so static analysis flags them.\n\nWhat\u2019s Happening\nYour DefaultController extends something like:\nclass DefaultController extends \\yii\\web\\Controller\n\nBut you wrote:\npublic function beforeSave($insert)  // \u274c belongs to a model, not a controller\n{\n    if (parent::beforeSave($insert)) {  // Controller has no beforeSave()\n        if ($this->isNewRecord) {       // Controller has no isNewRecord\n            $max = self::find()->max('sort_order'); // Controller has no find()\n            $this->sort_order = $max + 1;\n        }\n        return true;\n    }\n    return false;\n}\n\n\n\u2714\ufe0f Why This Is Wrong\nbeforeSave(), isNewRecord, find(), and sort_order are part of yii\\db\\ActiveRecord models, not controllers.\n\n\nA controller is meant to handle requests/responses, not directly represent database rows.\n\n\u2014-----------------------------------------------------\n\n\nError log:\n ------ ------------------------------------------------------------------- \n  Line   backend/modules/endline/views/default/endline.php                  \n ------ ------------------------------------------------------------------- \n  :104   Call to an undefined static method Yii::t().                       \n         \ud83e\udeaa  staticMethod.notFound                                          \n  :105   Array has 2 duplicate keys with value 'class' ('class', 'class').  \n         \ud83e\udeaa  array.duplicateKey                                             \n  :227   Call to an undefined static method Yii::t().                       \n         \ud83e\udeaa  staticMethod.notFound                                          \n  :228   Array has 2 duplicate keys with value 'class' ('class', 'class').  \n         \ud83e\udeaa  array.duplicateKey                                             \n ------ ------------------------------------------------------------------- \n\n\n\nProject code: \n   'buttons' => [\n          'update' => function ($url, $model) {\n              return Html::a('<i class=\"feather icon-edit\"></i> Update', ['update', 'id' => $model->id], [\n                    'title' => Yii::t('app', 'Update '),\n                    'class' => '',\n                    'data-pjax' => \"0\",\n                    'class' => 'btn btn-custom',\n                  ]) . ' ';\n             },\n"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"Analysis on errors\nHere\u2019s a practical way to categorize the PHPStan errors from your phpstan-report.txt so you can fix them from easy \u2192 hard.\n\n\ud83d\udfe2 1. Very Easy / Quick Fixes\n    (Find & replace or one-line edits)\n    - Case issues\n        class.nameCase \u2013 e.g. use yii; instead of use Yii;\n        Fix: Correct class names to match the real case.\n\n    - Duplicate array keys\n        array.duplicateKey \u2013 two identical keys in an array.\n        Fix: Remove or rename duplicates.\n\n    - Trailing whitespace / closing ?>\n        whitespace.fileEnd \u2013 delete the final ?> or blank space.\n\n    - Deprecated parameter order\n        parameter.requiredAfterOptional \u2013 move required parameter before optional.\n\n\n\n\ud83d\udfe1 2. Moderate \u2013 Missing or Wrong Calls\n(Need to inspect code but usually straightforward)\nUndefined variable\n variable.undefined \u2013 declare or pass the variable.\n\n\nMissing return\n return.missing \u2013 make sure the method returns the expected type (array, Response, etc.).\n\n\nMethod result used when method is void\n method.void \u2013 don\u2019t use the return value, or change the method to return something meaningful.\n\n\nStatic call to instance method / wrong static method\n method.staticCall \u2013 call it on an object, or mark method static if appropriate.\n\n\n\n\ud83d\udfe0 3. Framework-Specific / Config Issues\n(Need Yii2 knowledge)\nUndefined static method on Yii\n staticMethod.notFound \u2013 e.g. Yii::t() or Yii::createObject()\n \u2192 Add use Yii; or configure stubs so PHPStan knows about Yii\u2019s magic methods.\n\n\nController calling ActiveRecord methods\n e.g. Controller::beforeSave() or find() in a controller.\n \u2192 Move that logic to the model.\n\n\nUnknown class from third-party packages\n class.notFound \u2013 e.g. kartik\\widgets\\FileInput, common\\models\\GeneralModel.\n \u2192 Install the package, add autoload paths, or fix the namespace.\n\n\n\n\ud83d\udd34 4. Hard / Architectural\n(Need refactor or missing code)\nBig missing classes / traits\n e.g. backend\\tests\\_generated\\FunctionalTesterActions not found.\n \u2192 Re-generate code (e.g. Codeception build) or add those files.\n\n\nBusiness-logic redesign\n e.g. controllers mixing DB logic, or large methods without returns.\n \u2192 Requires code refactoring and testing.\n\n\n\n\u2705 Suggested Workflow\nStart with Green (Very Easy)\n Quick global search & replace, remove duplicate keys, fix case.\n\n\nMove to Yellow (Moderate)\n Add missing returns, define variables, correct static/instance usage.\n\n\nThen Orange (Framework)\n Ensure Yii is correctly autoloaded, install missing extensions, add PHPStan Yii2 extension/stubs.\n\n\nFinally Red (Hard)\n Regenerate tests, restructure controllers/models, write missing classes.\n\n\nThis priority lets you reduce hundreds of warnings quickly and focus your time on the deeper design issues later.\n\n"})})]})}function h(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(d,{...e})}):d(e)}},8453(e,n,t){t.d(n,{R:()=>a,x:()=>o});var s=t(6540);const i={},r=s.createContext(i);function a(e){const n=s.useContext(r);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:a(e.components),s.createElement(r.Provider,{value:n},e.children)}}}]);